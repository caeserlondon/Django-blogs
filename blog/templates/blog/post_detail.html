{% extends 'blog/base.html' %} {% block content %} {% block title %}Post detail
Page{% endblock %}

<div class="container">
	<h1 class="posttitle loader">{{ post.title }}</h1>

	{% if post.published_date %}
	<div class="date postdate">{{ post.published_date }}</div>
	{% else %}
	<a class="btn btn-primary" href="{% url 'post_publish' pk=post.pk %}"
		>Publish</a
	>
	{% endif %}

	<p class="postcontent">{{ post.text|safe|linebreaksbr }}</p>

	{% if user.is_authenticated %}
	<a
		class="btn btn-primary"
		name="edit"
		href="{% url 'post_edit' pk=post.pk %}"
	>
		<i class="bi bi-pencil-square"></i>
	</a>

	<a
		class="btn btn-danger"
		name="delet"
		href="{% url 'post_remove' pk=post.pk %}"
	>
		<i class="bi bi-trash3"></i>
	</a>
	<hr />
	<a
		class="btn btn-primary btn-comment"
		href="{% url 'add_comment_to_post' pk=post.pk %}"
		>Add comment</a
	>
	{% endif %}
</div>

<div class="container">
	{% for comment in post.comments.all %}
	<br />
	{% if user.is_authenticated or comment.approved_comment %} {{
	comment.created_date }} {% if not comment.approved_comment %}
	<a
		class="btn btn-danger"
		name="comment_remove"
		href="{% url 'comment_remove' pk=comment.pk %}"
	>
		<i class="bi bi-trash3"></i>
	</a>

	<a
		class="btn btn-primary"
		link-name="comment_approve"
		href="{% url 'comment_approve' pk=comment.pk %}"
	>
		<i class="bi bi-hand-thumbs-up-fill"></i>
	</a>
	{% endif %}

	<p>{{ comment.text|safe|linebreaks }}</p>
	<p>Posted By:{{ comment.author }}</p>
	{% endif %} {% empty %}
	<p>No comments yet.</p>
	{% endfor %}
</div>

{% endblock %}
